<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>linfa-playground WASM demo</title>
  <style>
    :root {
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
    }

    body {
      margin: 2rem;
    }

    .card {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1rem 1.25rem;
      max-width: 720px;
    }

    button {
      cursor: pointer;
      padding: .5rem 1rem;
      border-radius: 6px;
      border: 1px solid #888;
      background: #f6f6f6;
    }

    code,
    pre {
      background: #f7f7f9;
      border: 1px solid #eee;
      padding: .25rem .5rem;
      border-radius: 4px;
    }

    .muted {
      color: #666;
      font-size: .9rem;
    }

    table {
      border-collapse: collapse;
    }

    td,
    th {
      padding: 0.25rem 0.5rem;
      border-bottom: 1px solid #eee;
      text-align: right;
    }

    th:first-child,
    td:first-child {
      text-align: left;
    }
  </style>
</head>

<body>
  <h1>Activity prediction (WASM)</h1>
  <p class="muted">このデモは Rust の <code>wasm-bindgen</code> 経由で、事前学習済みの決定木モデルに 6 次元の特徴量を渡して予測します。</p>

  <div class="card">
    <p> モデルのロード時間の計測</p>
    <button id="load-model">モデルをロードする</button>
    <div id="load-time"></div>
    <p>
      6 要素のランダムなダミー特徴量を生成して <code>predict_activity(features: f32[6])</code> を呼び出します。
    </p>
    <button id="run">ランダムに予測する</button>

    <div id="out"></div>
    <p>xyzのランダムな値の列を生成し、モデルで予測を行います。</p>
    <button id="run-raw">生データから予測する</button>
    <div id="out-raw"></div>
  </div>

  <p class="muted">
    ヒント: <code>wasm-pack build --target web</code> で <code>pkg/</code> を作成し、この <code>web/</code> を静的サーブして開きます。
  </p>

  <script type="module" src="./main.js"></script>
</body>

</html>